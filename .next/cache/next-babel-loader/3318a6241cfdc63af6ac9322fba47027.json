{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar nodemailer = require('nodemailer');\n\nvar API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:1337\";\nexport function fetchAPI(_x) {\n  return _fetchAPI.apply(this, arguments);\n}\n\nfunction _fetchAPI() {\n  _fetchAPI = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n    var response, exam;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return fetch('https://community-app-strapi-backend.herokuapp.com' + id, {\n              method: 'GET',\n              credentials: 'same-origin'\n            });\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return response.json();\n\n          case 6:\n            exam = _context.sent;\n            return _context.abrupt(\"return\", exam);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n  return _fetchAPI.apply(this, arguments);\n}\n\nexport function sendMail(senderAddress, Message) {\n  var transport = nodemailer.createTransport({\n    host: 'smtp.mailtrap.io',\n    port: 2525,\n    auth: {\n      user: '2bd4810e6cb2d2',\n      pass: '42a18b35022fd6'\n    }\n  });\n  var message = {\n    from: senderAddress,\n    // Sender address\n    to: 'community-manager@gmail.com',\n    // List of recipients\n    subject: 'Query from Community Webpage',\n    // Subject line\n    text: Message // Plain text body\n\n  };\n  transport.sendMail(message, function (err, info) {\n    if (err) {\n      alert(err);\n    } else {\n      console.log(info);\n    }\n  });\n}","map":{"version":3,"sources":["/home/ajay/Desktop/webdev/community-app/frontend/lib/utility.js"],"names":["nodemailer","require","API_URL","process","env","NEXT_PUBLIC_API_URL","fetchAPI","id","fetch","method","credentials","response","json","exam","console","error","sendMail","senderAddress","Message","transport","createTransport","host","port","auth","user","pass","message","from","to","subject","text","err","info","alert","log"],"mappings":";;;AAAA,IAAMA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AACA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,mBAAZ,IAAmC,uBAAnD;AACA,gBAAsBC,QAAtB;AAAA;AAAA;;;uEAAO,iBAAwBC,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEwBC,KAAK,CAAC,uDAAqDD,EAAtD,EAA0D;AAClFE,cAAAA,MAAM,EAAE,KAD0E;AAElFC,cAAAA,WAAW,EAAE;AAFqE,aAA1D,CAF7B;;AAAA;AAEOC,YAAAA,QAFP;AAAA;AAAA,mBAMoBA,QAAQ,CAACC,IAAT,EANpB;;AAAA;AAMOC,YAAAA,IANP;AAAA,6CAOQA,IAPR;;AAAA;AAAA;AAAA;AASCC,YAAAA,OAAO,CAACC,KAAR;;AATD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAaP,OAAQ,SAASC,QAAT,CAAkBC,aAAlB,EAAiCC,OAAjC,EAAyC;AAC7C,MAAIC,SAAS,GAAGnB,UAAU,CAACoB,eAAX,CAA2B;AACvCC,IAAAA,IAAI,EAAE,kBADiC;AAEvCC,IAAAA,IAAI,EAAE,IAFiC;AAGvCC,IAAAA,IAAI,EAAE;AACHC,MAAAA,IAAI,EAAE,gBADH;AAEHC,MAAAA,IAAI,EAAE;AAFH;AAHiC,GAA3B,CAAhB;AAQA,MAAMC,OAAO,GAAG;AACZC,IAAAA,IAAI,EAAEV,aADM;AACS;AACrBW,IAAAA,EAAE,EAAE,6BAFQ;AAE+B;AAC3CC,IAAAA,OAAO,EAAE,8BAHG;AAG6B;AACzCC,IAAAA,IAAI,EAAEZ,OAJM,CAIE;;AAJF,GAAhB;AAMAC,EAAAA,SAAS,CAACH,QAAV,CAAmBU,OAAnB,EAA4B,UAASK,GAAT,EAAcC,IAAd,EAAoB;AAC5C,QAAID,GAAJ,EAAS;AACPE,MAAAA,KAAK,CAACF,GAAD,CAAL;AACD,KAFD,MAEO;AACLjB,MAAAA,OAAO,CAACoB,GAAR,CAAYF,IAAZ;AACD;AACJ,GAND;AAOH","sourcesContent":["const nodemailer = require('nodemailer');\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:1337\";\nexport async function fetchAPI(id) {\n    try {\n        const response = await fetch('https://community-app-strapi-backend.herokuapp.com'+id, {\n            method: 'GET',\n            credentials: 'same-origin'\n        });\n        const exam = await response.json();\n        return exam;\n    } catch (error) {\n        console.error(error);\n    }\n}\n\nexport  function sendMail(senderAddress, Message){\n    var transport = nodemailer.createTransport({\n        host: 'smtp.mailtrap.io',\n        port: 2525,\n        auth: {\n           user: '2bd4810e6cb2d2',\n           pass: '42a18b35022fd6'\n        }\n    });\n    const message = {\n        from: senderAddress, // Sender address\n        to: 'community-manager@gmail.com',         // List of recipients\n        subject: 'Query from Community Webpage', // Subject line\n        text: Message // Plain text body\n    };\n    transport.sendMail(message, function(err, info) {\n        if (err) {\n          alert(err);\n        } else {\n          console.log(info);\n        }\n    });\n}\n"]},"metadata":{},"sourceType":"module"}